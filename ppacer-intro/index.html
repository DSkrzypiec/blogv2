<!DOCTYPE html><html lang="en" data-astro-cid-gvpn4u4b> <head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Introducing ppacer: yet another DAG scheduler which I prefer</title><style>*,*:before,*:after{box-sizing:border-box}html,body{max-width:100%;overflow-x:hidden}html{-webkit-text-size-adjust:100%}:root{--bg-color: #111010;--text-primary: #ffe9c6;--text-secondary: #2AA198;--accent-color: #f97d43;--font-body: "Roboto", sans-serif;--font-code: "JetBrains Mono", monospace}html{font-size:19px}@media (max-width: 480px){html{font-size:16px}}@media (max-width: 360px){html{font-size:15px}}body{font-size:1rem;line-height:1.66;background-color:var(--bg-color);color:var(--text-primary);font-family:var(--font-body);margin:0;padding:0;word-wrap:break-word;overflow-wrap:break-word}h1{font-size:2.25rem;line-height:1.2}h2{font-size:1.75rem;line-height:1.3}h3{font-size:1.35rem;line-height:1.35}@media (max-width: 768px){h1{font-size:2rem}h2{font-size:1.5rem}h3{font-size:1.2rem}}@media (max-width: 480px){h1{font-size:1.75rem}h2{font-size:1.35rem}h3{font-size:1.1rem}}@media (max-width: 360px){h1{font-size:1.6rem}h2{font-size:1.25rem}h3{font-size:1.05rem}}a{color:var(--text-secondary);text-decoration:none}a:hover{text-decoration:underline}pre{background-color:#1e1e1e;border-radius:8px;padding:1rem;overflow-x:auto;margin:1rem 0;font-size:15px;font-family:var(--font-code)}code{background-color:transparent}pre>code{display:block}.toc ul{list-style:none;margin:0;padding:0}.toc li{margin:.5rem 0}.toc a{color:var(--text-secondary);text-decoration:none}.toc a:hover{text-decoration:underline}.toc a.active{font-weight:700;color:var(--accent-color)}nav[data-astro-cid-dmqpwcec]{padding:1rem 0;text-align:center}ul[data-astro-cid-dmqpwcec]{list-style:none;padding:0;margin:0;display:flex;justify-content:center;gap:1.5rem;flex-wrap:wrap}@media (max-width: 480px){ul[data-astro-cid-dmqpwcec]{gap:1rem}a[data-astro-cid-dmqpwcec]{font-size:1rem;padding:.4rem .8rem}}@media (max-width: 360px){ul[data-astro-cid-dmqpwcec]{gap:.5rem}a[data-astro-cid-dmqpwcec]{font-size:.9rem;padding:.3rem .6rem}}li[data-astro-cid-dmqpwcec]{display:inline}a[data-astro-cid-dmqpwcec]{color:var(--text-primary);font-size:1.2rem;padding:.5rem 1rem;border:1px solid transparent;transition:all .3s ease-in-out}a[data-astro-cid-dmqpwcec]:hover{border:1px solid var(--accent-color);border-radius:4px;color:var(--accent-color)}.active[data-astro-cid-dmqpwcec] a[data-astro-cid-dmqpwcec]{color:var(--accent-color);font-weight:700;border-bottom:2px solid var(--accent-color)}hr[data-astro-cid-dmqpwcec]{margin-top:1rem;border:none;height:2px;background:var(--text-secondary);width:90%;max-width:800px;margin-left:auto;margin-right:auto}
.post-title[data-astro-cid-resui2ln]{margin-bottom:2rem}.post-title[data-astro-cid-resui2ln] h1[data-astro-cid-resui2ln]{font-size:1.75rem;color:var(--accent-color);margin:0}.post-date[data-astro-cid-resui2ln]{font-size:1rem;color:var(--text-secondary);margin-top:.5rem}.publish-label[data-astro-cid-resui2ln]{font-weight:700;color:var(--text-primary)}
.chapter[data-astro-cid-5d3zeytc]{font-size:2rem;margin-top:2rem;color:var(--accent-color)}.chapter[data-astro-cid-5d3zeytc] a[data-astro-cid-5d3zeytc]{color:var(--accent-color);text-decoration:none}.chapter[data-astro-cid-5d3zeytc] a[data-astro-cid-5d3zeytc]:hover{text-decoration:underline}
.post-layout{display:flex;flex-direction:row}@media (min-width: 1024px){.post-layout{flex-direction:row}.post-layout-sidebar{position:fixed;left:2rem;top:10rem;width:200px;font-size:.85rem;padding:1rem;z-index:10}.post-layout-content{flex:1;max-width:1000px;margin:0 auto;padding-left:240px;padding-right:2rem}}@media (min-width: 1400px){.post-layout-content{max-width:1200px}}.post-layout-sidebar{display:none}@media (min-width: 1024px){.post-layout-sidebar{display:block}}@media (max-width: 1023px){.post-layout{flex-direction:column}.post-layout-content{width:100%;max-width:100%}}:global(pre){width:100%!important;max-width:100%!important;overflow-x:auto;box-sizing:border-box}:global(.astro-code){width:100%!important;max-width:100%!important;box-sizing:border-box}:global(.astro-code pre){width:100%!important;max-width:100%!important;overflow-x:auto;box-sizing:border-box}:global(.post-layout-content pre){max-width:100%!important;overflow-x:auto;word-wrap:break-word;white-space:pre-wrap}main[data-astro-cid-gvpn4u4b]{padding:2rem 1rem;max-width:900px;margin:0 auto;width:100%;box-sizing:border-box}@media (min-width: 1024px){main[data-astro-cid-gvpn4u4b]{padding:2rem 0;max-width:none}}@media (max-width: 768px){main[data-astro-cid-gvpn4u4b]{padding:1.5rem .75rem}}@media (max-width: 480px){main[data-astro-cid-gvpn4u4b]{padding:1rem .5rem}}article[data-astro-cid-gvpn4u4b]{max-width:800px;width:100%;margin:0 auto;color:var(--text-primary);box-sizing:border-box;word-wrap:break-word;overflow-wrap:break-word}h1[data-astro-cid-gvpn4u4b],h2[data-astro-cid-gvpn4u4b],h3[data-astro-cid-gvpn4u4b]{color:var(--accent-color);margin-top:1.5rem;word-wrap:break-word;overflow-wrap:break-word}p[data-astro-cid-gvpn4u4b]{color:var(--text-secondary);word-wrap:break-word;overflow-wrap:break-word;hyphens:auto}img[data-astro-cid-gvpn4u4b]{max-width:100%;max-height:400px;width:auto;height:auto;border-radius:8px;margin:1rem 0;object-fit:contain}@media (max-width: 768px){img[data-astro-cid-gvpn4u4b]{max-height:300px}}@media (max-width: 480px){img[data-astro-cid-gvpn4u4b]{max-height:250px}}blockquote[data-astro-cid-gvpn4u4b]{border-left:4px solid var(--accent-color);padding-left:1rem;color:var(--text-primary);font-style:italic;margin:1rem 0}code[data-astro-cid-gvpn4u4b]{font-family:monospace;background:#ffffff1a;padding:.2rem .4rem;border-radius:4px;font-size:.95rem}
</style></head> <body data-astro-cid-gvpn4u4b> <header data-astro-cid-gvpn4u4b> <nav data-astro-cid-dmqpwcec> <ul data-astro-cid-dmqpwcec> <li class data-astro-cid-dmqpwcec> <a href="/" data-astro-cid-dmqpwcec>Posts</a> </li><li class data-astro-cid-dmqpwcec> <a href="/about" data-astro-cid-dmqpwcec>About</a> </li><li class data-astro-cid-dmqpwcec> <a href="/resume" data-astro-cid-dmqpwcec>Resume</a> </li> </ul> </nav>  </header> <!-- 
      1) Wrap sidebar + main in a single parent .post-layout
         so flexbox can place them side by side on large screens 
    --> <div class="post-layout" data-astro-cid-gvpn4u4b> <!-- SIDEBAR --> <aside class="post-layout-sidebar" data-astro-cid-gvpn4u4b> <!-- The nav container that will hold our generated TOC --><nav id="table-of-contents" class="toc"></nav> <script client:load>
  window.addEventListener('DOMContentLoaded', () => {
    buildTOC();
    highlightActiveHeading();
  });

  // 1. Build the TOC once the page is loaded
  function buildTOC() {
    const chapterHeadings = Array.from(document.querySelectorAll('h2.chapter[id]'));
    const tocContainer = document.getElementById('table-of-contents');
    if (!tocContainer) return;

    const ul = document.createElement('ul');

    chapterHeadings.forEach((heading) => {
      const li = document.createElement('li');
      const a = document.createElement('a');

      // The heading has an `id` like "intro" or "symptoms"
      a.href = `#${heading.id}`;

      a.textContent = heading.textContent.trim();

      li.appendChild(a);
      ul.appendChild(li);
    });

    tocContainer.appendChild(ul);
  }

    function highlightActiveHeading() {
      const links = Array.from(document.querySelectorAll('#table-of-contents a'));
      const headingEls = links.map((link) => document.getElementById(link.hash.slice(1)));

      // 3. Create the observer
      const observer = new IntersectionObserver(
        (entries) => {
          entries.forEach((entry) => {
            console.log(
              `Heading: ${entry.target.id}, isIntersecting: ${entry.isIntersecting}`
            );
            if (entry.isIntersecting) {
              // Remove 'active' from all links
              links.forEach((l) => l.classList.remove('active'));

              // Highlight the link for the heading that just entered
              const activeLink = links.find(
                (l) => l.hash === `#${entry.target.id}`
              );
              if (activeLink) {
                activeLink.classList.add('active');
              }
            }
          });
        },
        {
          root: null,
          rootMargin: '-15% 0px -60% 0px',
          threshold: 0,
        }
      );

      // 4. Observe each heading
      headingEls.forEach((el) => {
        if (el) {
          console.log(`Observing heading: ${el.id}`);
          observer.observe(el);
        }
      });
    }
</script> </aside> <!-- MAIN CONTENT AREA --> <div class="post-layout-content" data-astro-cid-gvpn4u4b> <main data-astro-cid-gvpn4u4b> <article data-astro-cid-gvpn4u4b>  <div class="post-title" data-astro-cid-resui2ln> <h1 data-astro-cid-resui2ln>Introducing ppacer: yet another DAG scheduler which I prefer</h1> <p class="post-date" data-astro-cid-resui2ln> <span class="publish-label" data-astro-cid-resui2ln>Publish date:</span> 2024-04-18 </p> </div>  <h2 id="intro" class="chapter" data-astro-cid-5d3zeytc> <a href="#intro" data-astro-cid-5d3zeytc>Intro</a> </h2>  <p>
As I mentioned in <a href="https://dskrzypiec.dev/new-scheduler">New Scheduler</a>, in the
    second half of 2023 I started working on implementing new scheduler in Go. In
    this post I wanted to share with you the current status of the project, next
    steps and few links.
</p> <h2 id="name" class="chapter" data-astro-cid-5d3zeytc> <a href="#name" data-astro-cid-5d3zeytc>The name: ppacer</a> </h2>  <p>
At the end of the previous year I was already working already for 4-5 months on
    this project but still I didn't have a name for it. On my local disk it lived
    in <code>gosched</code> catalog for those couple of months. It was to this point, that I
    even setup a <a href="https://dskrzypiec.dev/year2023/#goals-for-2024">goal for 2024</a>,
    to come up with a name for the project.
</p> <p>
Around mid January 2024 I finally came up with the name - <code>ppacer</code>. The part
    'pacer' comes from running. In marathons or other races a pacer is a runner who
    helps to set the pace for other runners. The initial "p" comes from a word
    "process". So it's a loose analogy to something that sets the pace for your
    processes. At the same time it uses the same name convention as other famous
    tool - <a href="https://github.com/google/pprof">pprof</a>, which I think sounds really
    good.
</p> <p>
There it is, I have the name! I was really happy. That enabled me to buy a
    domain and create an organization on GitHub.
</p> <h2 id="status" class="chapter" data-astro-cid-5d3zeytc> <a href="#status" data-astro-cid-5d3zeytc>Current status</a> </h2>  <p>
At the moment <code>ppacer</code> is a set of Go libraries which can be used, to define
    and build a DAG which would run on a schedule, a scheduler and an executor. All
    those components can be compiled into single statically linked binary, or there
    might be single scheduler program and multiple executors placed on separate
    machines. Anyway, very basic version of the backend is ready. It doesn't yet
    have MPV coverage regarding features, but it's good enough to be used in some
    setups.
</p> <p>
Currently I'm using ppacer to do backups of my
<a href="https://dskrzypiec.dev/home-app-go/">Home Database</a> and refresh TLS
    certificates for my applications.
</p> <p>
There is no frontend yet at all. If you're fine with checking logs or DAG runs
    information in SQLite or any other Go sql-compatible database, feel free to
    play with it.
</p> <h2 id="links" class="chapter" data-astro-cid-5d3zeytc> <a href="#links" data-astro-cid-5d3zeytc>ppacer links</a> </h2>  <p>
There are few links you might be interested in, if this project sounds
    interesting to you. There is <a href="https://github.com/ppacer">github.com/ppacer</a>
organization on GitHub. There you can find
</p> <ul> <li>
Project with ppacer core Go libraries -
<a href="https://github.com/ppacer/core">github.com/ppacer/core</a> </li> <li>
Repository with usage examples -
<a href="https://github.com/ppacer/examples">github.com/ppacer/examples</a> </li> <li>
Repository with generic ppacer <code>Tasks</code> -
<a href="https://github.com/ppacer/tasks">github.com/ppacer/tasks</a> </li> </ul> <p>
Standard Go packages documentation (API reference) can be found in here:
</p> <ul> <li><a href="https://pkg.go.dev/github.com/ppacer/core">pkg.go.dev/github.com/ppacer/core</a></li> </ul> <p>
Last but not least, ppacer main page for high-level documentation, examples and
    other information is here:
</p> <ul> <li><a href="https://ppacer.org">ppacer.org</a></li> </ul> <h2 id="documentation" class="chapter" data-astro-cid-5d3zeytc> <a href="#documentation" data-astro-cid-5d3zeytc>Documentation</a> </h2>  <p>
As I mentioned ppacer backed is working for arbitrary minimal set of selected
    features. I'd like to focus now on the frontend part, but before I do, I
    decided to write down a bit of documentation. One part is Go libraries public
    API documentation. That was mostly written during the development, so it needed
    to be just polished a bit. The other part is documenting high-level design,
    instructions on how to use ppacer, how to extend it, how to implement your own
    schedules and so on.
</p> <p>
There are few reasons why I want to do it. One is to show potential users or
    interested developers how to even start and run "hello world" example. The
    other reason is for me in the future, when I'll be back from frontend
    development, to remember what I was thinking months ago and why I choose to
    implement it this and not the other way. Another reason was a bit surprising.
    Writing down documentation helped me a lot, to make libraries API better and
    more consistent. Being a single developer on the project should already give a
    lot of consistency but even in this case I saw small differences in naming or
    conventions over the time. Writing it down in documentation helped me see it. I
    wish I had done it earlier in the project.
</p> <p>
A friend recommended me <a href="https://starlight.astro.build">Astro starlight</a>, to
    build documentation web page. It's great! It's really easy to setup, it's
    rather flexible and looks gorgeous in my opinion - lean, fast and modern.
</p> <h2 id="next-steps" class="chapter" data-astro-cid-5d3zeytc> <a href="#next-steps" data-astro-cid-5d3zeytc>Next steps</a> </h2>  <p>
The next steps for the project are as follows:
</p> <ol> <li>Finish writing documentation for existing backend</li> <li>Start working on frontend PoC (probably HTMX + tmpl)</li> <li>Design the logo</li> <li>Write first version of ppacer frontend</li> <li>Go back to add few more features on the backed</li> <li>Prepare ppacer MVP version</li> <li>...</li> <li>Profit?</li> </ol> <h2 id="summary" class="chapter" data-astro-cid-5d3zeytc> <a href="#summary" data-astro-cid-5d3zeytc>Summary</a> </h2>  <p>
That's it for now. It's not really yet "introducing ppacer" it's rather
    introducing the name and give you the current status, but hey I liked that
    title. By the way the title of this post was inspired by Maxwell calling his
    work on theory of electromagnetism "another theory of electricity which I
    prefer". You can read about this very interesting story in <a href="https://www.damtp.cam.ac.uk/user/tong/em/dyson.pdf">this
    essay</a>.
</p> <p>
If you're interested in the project already, you can find the "hello world"
    example in here: <a href="https://ppacer.org/start/intro/">ppacer.org/start/intro/</a>.
</p> <h2 id="references" class="chapter" data-astro-cid-5d3zeytc> <a href="#references" data-astro-cid-5d3zeytc>References</a> </h2>  <ol> <li><a href="https://www.damtp.cam.ac.uk/user/tong/em/dyson.pdf">Why is Maxwell's Theory so hard to understand?</a></li> </ol>  </article> </main> </div> </div>  <!-- Global styles for .post-layout and .post-layout-sidebar -->  </body></html>